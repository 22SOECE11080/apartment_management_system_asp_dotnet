@{
    ViewBag.Title = "Admin Dashboard";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<main class="content px-3 py-4 bg-light">
    <div class="container-fluid">
        <!-- Header Section -->
        <div class="mb-4">
            <h3 class="fw-bold fs-4 mb-2">Admin Dashboard</h3>
            <p class="text-muted">Welcome, Admin! Here's an overview of the system.</p>
        </div>

        <!-- Metrics Cards -->
        <div class="row mb-4">
            <div class="col-md-3 col-sm-6">
                <div class="card shadow-sm border-0 mb-4">
                    <div class="card-body py-4 text-center">
                        <h5 class="fw-bold mb-2">Total Residents</h5>
                        <p class="fs-4 fw-bold text-primary">120</p>
                        <span class="badge bg-success">+5.0%</span>
                        <span class="text-muted ms-2">Since Last Month</span>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="card shadow-sm border-0 mb-4">
                    <div class="card-body py-4 text-center">
                        <h5 class="fw-bold mb-2">Pending Fees</h5>
                        <p class="fs-4 fw-bold text-primary">$8,540</p>
                        <span class="badge bg-danger">-2.0%</span>
                        <span class="text-muted ms-2">Since Last Month</span>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="card shadow-sm border-0 mb-4">
                    <div class="card-body py-4 text-center">
                        <h5 class="fw-bold mb-2">Hall Bookings</h5>
                        <p class="fs-4 fw-bold text-primary">45</p>
                        <span class="badge bg-success">+12.0%</span>
                        <span class="text-muted ms-2">Since Last Month</span>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="card shadow-sm border-0 mb-4">
                    <div class="card-body py-4 text-center">
                        <h5 class="fw-bold mb-2">Resolved Issues</h5>
                        <p class="fs-4 fw-bold text-primary">78</p>
                        <span class="badge bg-success">+8.0%</span>
                        <span class="text-muted ms-2">Since Last Month</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Recent Activities -->
        <div class="row mb-4">
            <div class="col-lg-8">
                <div class="card shadow-sm border-0">
                    <div class="card-header bg-white py-3">
                        <h5 class="mb-0 fw-bold">Recent Activities</h5>
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item d-flex justify-content-between align-items-center">New hall booking request from Radhesh <span class="text-muted">2 hrs ago</span></li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">Maintenance fee paid by Apartment 101 <span class="text-muted">3 hrs ago</span></li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">Feedback received from Resident 302 <span class="text-muted">5 hrs ago</span></li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Maintenance Fees Table -->
            <div class="col-lg-4">
                <div class="card shadow-sm border-0">
                    <div class="card-header bg-white py-3">
                        <h5 class="mb-0 fw-bold">Maintenance Fees</h5>
                    </div>
                    <div class="card-body">
                        <table class="table table-sm table-hover">
                            <thead>
                                <tr>
                                    <th>Apartment</th>
                                    <th>Status</th>
                                    <th>Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>101</td><td><span class="badge bg-success">Paid</span></td><td>$300</td></tr>
                                <tr><td>102</td><td><span class="badge bg-warning">Pending</span></td><td>$300</td></tr>
                                <tr><td>103</td><td><span class="badge bg-warning">Pending</span></td><td>$300</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Total Members Table -->
        <div class="row">
            <div class="col-12">
                <div class="card shadow-sm border-0">
                    <div class="card-header bg-white py-3 d-flex justify-content-between align-items-center">
                        <h5 class="mb-0 fw-bold">Total Members</h5>
                        <input type="text" id="searchInput" class="form-control w-25" placeholder="Search members...">
                    </div>
                    <div class="card-body">
                        <table class="table table-striped table-hover" id="membersTable">
                            <thead class="table-dark">
                                <tr>
                                    <th>SR NO</th>
                                    <th>Name</th>
                                    <th>Apartment</th>
                                    <th>Contact</th>
                                    <th>Email</th>
                                    <th>Wing</th>
                                    <th>Family Members</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>1</td><td>Radhesh</td><td>101</td><td>123-456-7890</td><td>rjoshi123@rku.ac.in</td><td>A</td><td>4</td><td>Active</td></tr>
                                <tr><td>2</td><td>Vaibhav</td><td>102</td><td>987-654-3210</td><td>vgoriya456@rku.ac.in</td><td>B</td><td>3</td><td>Active</td></tr>
                                <tr><td>3</td><td>Nishant</td><td>103</td><td>555-555-5555</td><td>ntalavita789@rku.ac.in</td><td>C</td><td>2</td><td>Active</td></tr>
                                <tr><td>4</td><td>Jenil</td><td>104</td><td>444-444-4444</td><td>jgajera258@rku.ac.in</td><td>D</td><td>5</td><td>Active</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<script>
     document.getElementById("searchInput").addEventListener("keyup", function () {
        let filter = this.value.toLowerCase();
        let rows = document.querySelectorAll("#membersTable tbody tr");

        rows.forEach(row => {
            let text = row.textContent.toLowerCase();
            row.style.display = text.includes(filter) ? "" : "none";
        });
    });
</script>